# Банковский виджет
## Это виджет, который показывает несколько последних успешных банковских операций клиента.
## В этом проекте на данный момент разработано несколько функций:
### Модуль masks
1. Функция маскировки номера банковской карты get_mask_card_number.
2. Функция маскировки номера банковского счета get_mask_account.
### Модуль processing
1. Функция filter_by_state возвращает новый список словарей, содержащий только те словари, у которых ключ 'state'.
2. Функция sort_by_date возвращает новый список, отсортированный по дате.
### Модуль widget
1. Функция mask_account_card принимает на вход строку, содержащую тип и номер карты или счета,
    и возвращает строку с замаскированным номером.
2. Функция get_date возвращает строку с датой в формате "ДД.ММ.ГГГГ"
### Модуль generators
1. Функция filter_by_currency возвращает итератор, который поочередно выдает транзакции, где валюта операции
    соответствует заданной.
2. Генератор transaction_descriptions, который принимает список словарей с транзакциями
    и возвращает описание каждой операции по очереди.
3. Генератор card_number_generator, который выдает номера банковских карт.
### Модуль decorators
1. Декоратор, который логирует начало и конец выполнения функции, а также ее результаты
    или возникшие ошибки.
### Модуль utils
1. Функция read_transactions_from_json читает данные о финансовых транзакциях из JSON-файла.
### Логирование
Добавлен функционал логирования в модуль utils и masks. Логи о ходе выполнения программы выводятся в файлы utils.log и masks.log которые находятся в директории logs. Формат записи логов включает метку времени, название модуля, уровень серьезности и сообщение.
### Модуль read_transactions
1. Функция read_transactions_from_csv считывает финансовые операции из CSV-файла.
2. Функция read_transactions_from_excel считывает финансовые операции из Excel-файла.
### Модуль main
Модуль main содержит основную логику приложения для работы с банковскими транзакциями. Он обеспечивает взаимодействие с пользователем, чтение данных из различных форматов файлов, фильтрацию, сортировку и подсчет транзакций по категориям.
1. main():

Основная функция, запускающая приложение.
Выводит приветственное сообщение и меню для выбора действия.
Запрашивает у пользователя тип файла, путь к файлу, статус, опции сортировки, фильтрации и вывода.
Вызывает соответствующие функции для обработки данных и вывода результатов.

2. filter_transactions_by_status(transactions, status):

Фильтрует список транзакций по заданному статусу (EXECUTED, CANCELED, PENDING).
Возвращает список отфильтрованных транзакций.
3. filter_transactions_by_word(transactions, word):

Фильтрует список транзакций по наличию заданного слова в описании.
Использует регулярные выражения для поиска слова с учетом регистра.
Возвращает список отфильтрованных транзакций.
4. sort_transactions_by_date(transactions, order):

Сортирует список транзакций по дате в заданном порядке (по возрастанию или по убыванию).
Возвращает отсортированный список транзакций.
5. filter_transactions_by_currency(transactions):

Фильтрует список транзакций, оставляя только транзакции в рублях (RUB).
Возвращает список отфильтрованных транзакций.
6. count_transactions_by_category(transactions, categories):

Подсчитывает количество транзакций в каждой заданной категории.
Возвращает словарь, где ключи - названия категорий, а значения - количество операций в каждой категории.
7. format_transaction(transaction):

Форматирует данные о транзакции для вывода в консоль.
Преобразует дату в удобочитаемый формат.
Выводит информацию о счетах, описании и сумме.

### Дополнительная информация:
1. Модуль main использует logging для записи информации о действиях приложения (отладка, информация, предупреждения, ошибки).
2. Используется datetime для работы с датами.
3. Используется re для работы с регулярными выражениями (фильтрация по слову).
4. Используется Counter из collections для удобного подсчета количества транзакций по категориям.

## Установка:
1. Клонируйте репозиторий:
```commandline
git clone https://github.com/VladimirInozemtsev/home_work-10.1.git
```
2. Установите зависимости:
```
poetry install
```
## Тестирование:

В проект добавлены тесты для всех функций. Чтобы запустить тестирование, введите в терминале команду pytest.

## Лицензия:

Проект распространяется под [лицензией MIT](LICENSE).
